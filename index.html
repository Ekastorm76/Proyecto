<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokédex Completa</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #8f9192;
      margin: 0;
      padding: 0;
      display: flex;
    }
    header {
      background-color: #f2201c;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 2em;
      width: 100%;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      position: fixed;
      top: 0;
      z-index: 1001;
    }
    .sidebar {
      width: 250px;
      background: #8f9192;
      padding-top: 80px;
      height: 100vh;
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
      position: fixed;
      top: 0;
      left: 0;
      overflow-y: auto;
    }
    .sidebar h3 {
      text-align: center;
      margin-bottom: 20px;
    }
    .sidebar ul {
      list-style: none;
      padding: 0;
    }
    .sidebar ul li {
      padding: 10px 20px;
      cursor: pointer;
      border-bottom: 1px solid #eee;
    }
    .sidebar ul li:hover {
      background-color: #ef5350;
      color: white;
    }
    main {
      margin-left: 250px;
      padding: 100px 20px 20px 20px;
      width: 100%;
    }
    .search-bar {
      margin: 20px auto;
      text-align: center;
    }
    .search-bar input {
      width: 300px;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 1em;
    }
    .generation {
      margin-bottom: 40px;
    }
    .generation h2 {
      color: #333;
      margin-bottom: 20px;
    }
    .pokedex {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 20px;
    }
    .pokemon {
      background: rgb(237, 237, 237);
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 10px;
      text-align: center;
      transition: transform 0.2s, box-shadow 0.3s;
      cursor: pointer;
    }
    .pokemon:hover {
      transform: scale(1.05);
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.6);
    }
    .pokemon img {
      width: 80px;
      height: 80px;
    }
    .pokemon h3, .pokemon p {
      margin-top: 5px;
      font-size: 1em;
      color: #555;
    }
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      justify-content: center;
      align-items: center;
      z-index: 1000;
      animation: fadeIn 0.5s;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      max-width: 400px;
      animation: popUp 0.5s ease;
    }
    @keyframes popUp {
      from { transform: scale(0.5); }
      to { transform: scale(1); }
    }
    .modal-content img {
      width: 120px;
      height: 120px;
    }
    .types {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 10px;
    }
    .types img {
      width: 40px;
      height: 40px;
    }
    .close {
      margin-top: 10px;
      cursor: pointer;
      color: red;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    Pokédex Completa
  </header>

  <div class="sidebar">
    <h3>Generaciones</h3>
    <ul id="generationList"></ul>
  </div>

  <main>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/G2ksg6etR4U?si=oxk_TQUtIGAIqMWS" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Buscar Pokémon por nombre o número...">
    </div>
    <div id="pokedex"></div>
  </main>

  <div class="modal" id="modal">
    <div class="modal-content" id="modalContent">
      <span class="close" id="closeModal">Cerrar</span>
    </div>
  </div>

  <!-- Sonido de fondo -->
  

  <audio id="openSound" src="https://assets.mixkit.co/sfx/preview/mixkit-video-game-win-2016.mp3"></audio>

  <script>
    const generations = [
      { gen: "Primera Generación", from: 1, to: 151 },
      { gen: "Segunda Generación", from: 152, to: 251 },
      { gen: "Tercera Generación", from: 252, to: 386 },
      { gen: "Cuarta Generación", from: 387, to: 493 },
      { gen: "Quinta Generación", from: 494, to: 649 },
      { gen: "Sexta Generación", from: 650, to: 721 },
      { gen: "Séptima Generación", from: 722, to: 809 },
      { gen: "Octava Generación", from: 810, to: 905 },
      { gen: "Novena Generación", from: 906, to: 1010 }
    ];

    const typeIcons = {
      normal: "https://images.wikidexcdn.net/mwuploads/wikidex/c/c3/latest/20230128125621/Tipo_normal_icono_EP.svg",
      fire: "https://images.wikidexcdn.net/mwuploads/wikidex/5/55/latest/20230128125153/Tipo_fuego_icono_EP.svg",
      water: "https://images.wikidexcdn.net/mwuploads/wikidex/d/d6/latest/20230128124702/Tipo_agua_icono_EP.svg",
      electric: "https://images.wikidexcdn.net/mwuploads/wikidex/8/84/latest/20230128125008/Tipo_el%C3%A9ctrico_icono_EP.svg",
      grass: "https://images.wikidexcdn.net/mwuploads/wikidex/e/ed/latest/20230128125654/Tipo_planta_icono_EP.svg",
      ice: "https://images.wikidexcdn.net/mwuploads/wikidex/a/a6/latest/20230128125423/Tipo_hielo_icono_EP.svg",
      fighting: "https://images.wikidexcdn.net/mwuploads/wikidex/f/f2/latest/20230128125518/Tipo_lucha_icono_EP.svg",
      poison: "https://images.wikidexcdn.net/mwuploads/wikidex/f/fa/latest/20230128132735/Tipo_veneno_icono_EP.svg",
      ground: "https://images.wikidexcdn.net/mwuploads/wikidex/c/c8/latest/20230128132625/Tipo_tierra_icono_EP.svg",
      flying: "https://images.wikidexcdn.net/mwuploads/wikidex/6/6b/latest/20230128132815/Tipo_volador_icono_EP.svg",
      psychic: "https://images.wikidexcdn.net/mwuploads/wikidex/2/22/latest/20230128125735/Tipo_ps%C3%ADquico_icono_EP.svg",
      bug: "https://images.wikidexcdn.net/mwuploads/wikidex/1/1a/latest/20230128124809/Tipo_bicho_icono_EP.svg",
      rock: "https://images.wikidexcdn.net/mwuploads/wikidex/1/14/latest/20230128125805/Tipo_roca_icono_EP.svg",
      ghost: "https://images.wikidexcdn.net/mwuploads/wikidex/3/3d/latest/20230128125103/Tipo_fantasma_icono_EP.svg",
      dragon: "https://images.wikidexcdn.net/mwuploads/wikidex/1/15/latest/20230128124905/Tipo_drag%C3%B3n_icono_EP.svg",
      dark: "https://images.wikidexcdn.net/mwuploads/wikidex/e/e0/latest/20230128132504/Tipo_siniestro_icono_EP.svg",
      steel: "https://images.wikidexcdn.net/mwuploads/wikidex/6/6c/latest/20230128124521/Tipo_acero_icono_EP.svg",
      fairy: "https://images.wikidexcdn.net/mwuploads/wikidex/b/b7/latest/20230128125233/Tipo_hada_icono_EP.svg"
    };

    const typeColors = {
      normal: '#A8A878', fire: '#F08030', water: '#6890F0', electric: '#F8D030',
      grass: '#78C850', ice: '#98D8D8', fighting: '#C03028', poison: '#A040A0',
      ground: '#E0C068', flying: '#A890F0', psychic: '#F85888', bug: '#A8B820',
      rock: '#B8A038', ghost: '#705898', dragon: '#7038F8', dark: '#705848',
      steel: '#B8B8D0', fairy: '#EE99AC'
    };

    const pokedexDiv = document.getElementById('pokedex');
    const generationList = document.getElementById('generationList');
    const modal = document.getElementById('modal');
    const modalContent = document.getElementById('modalContent');
    const openSound = document.getElementById('openSound');

    generations.forEach((gen, index) => {
      const listItem = document.createElement('li');
      listItem.textContent = gen.gen;
      listItem.addEventListener('click', () => loadGeneration(index));
      generationList.appendChild(listItem);
    });

    async function loadGeneration(index) {
      pokedexDiv.innerHTML = '';
      const generation = generations[index];

      const genSection = document.createElement('section');
      genSection.className = 'generation';
      genSection.innerHTML = `<h2>${generation.gen}</h2><div class="pokedex"></div>`;
      const pokedexContainer = genSection.querySelector('.pokedex');

      for (let i = generation.from; i <= generation.to; i++) {
        const pokemonCard = document.createElement('div');
        pokemonCard.className = 'pokemon';
        pokemonCard.setAttribute('data-id', i);
        pokemonCard.innerHTML = `
          <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${i}.png" alt="Pokemon ${i}">
          <h3>#${i}</h3>
          <p id="name-${i}"></p>
        `;
        pokedexContainer.appendChild(pokemonCard);

        fetch(`https://pokeapi.co/api/v2/pokemon/${i}`)
          .then(res => res.json())
          .then(data => {
            document.getElementById(`name-${i}`).textContent = data.name;
          });
      }

      pokedexDiv.appendChild(genSection);
    }

    loadGeneration(0);

    document.addEventListener('click', async (e) => {
      if (e.target.closest('.pokemon')) {
        const id = e.target.closest('.pokemon').dataset.id;
        const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);
        const data = await response.json();

        const typesHtml = data.types.map(t => `<img src="${typeIcons[t.type.name]}" alt="${t.type.name}">`).join('');
        const mainType = data.types[0].type.name;

        modalContent.innerHTML = `
          <h2>${data.name.toUpperCase()}</h2>
          <img src="${data.sprites.front_default}" alt="${data.name}">
          <div class="types">${typesHtml}</div>
          <p><strong>Altura:</strong> ${data.height / 10} m</p>
          <p><strong>Peso:</strong> ${data.weight / 10} kg</p>
          <span class="close" id="closeModal">Cerrar</span>
        `;

        modalContent.style.backgroundColor = typeColors[mainType] || 'white';
        openSound.play();
        modal.style.display = 'flex';
      }

      if (e.target.id === 'closeModal') {
        modal.style.display = 'none';
      }
    });

    document.getElementById('searchInput').addEventListener('input', (e) => {
      const search = e.target.value.toLowerCase();
      document.querySelectorAll('.pokemon').forEach(card => {
        const id = card.getAttribute('data-id');
        const name = card.querySelector('p').textContent.toLowerCase();
        if (id.includes(search) || name.includes(search)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    });
  </script>
</body>
</html>
